# æ±‰å­—è½¬æ‹¼éŸ³å·¥å…·

[![License](https://poser.pugx.org/tekintian/pinyin/license)](https://packagist.org/packages/tekintian/pinyin)
[![Latest Stable Version](https://poser.pugx.org/tekintian/pinyin/v/stable)](https://packagist.org/packages/tekintian/pinyin)
[![Total Downloads](https://poser.pugx.org/tekintian/pinyin/downloads)](https://packagist.org/packages/tekintian/pinyin)

## ğŸ“ é¡¹ç›®ç®€ä»‹
è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„æ±‰å­—è½¬æ‹¼éŸ³å·¥å…·ï¼ŒåŸºäºæƒå¨çš„Unihanæ•°æ®åº“ï¼Œæä¾›å®Œæ•´çš„æ±‰å­—æ‹¼éŸ³è½¬æ¢è§£å†³æ–¹æ¡ˆã€‚æ”¯æŒè‡ªå®šä¹‰æ˜ å°„ã€ç‰¹æ®Šå­—ç¬¦å¤„ç†ã€è‡ªåŠ¨å­¦ä¹ åŠŸèƒ½å’Œå¤šéŸ³å­—å¤„ç†ï¼Œé€‚ç”¨äºå„ç§éœ€è¦æ‹¼éŸ³è½¬æ¢çš„åº”ç”¨åœºæ™¯ã€‚

## ğŸ§© åŠŸèƒ½æ¨¡å—åˆ—è¡¨

### 1. æ ¸å¿ƒè½¬æ¢ç³»ç»Ÿ
- **æ‹¼éŸ³è½¬æ¢å™¨** - æä¾›åŸºç¡€è½¬æ¢ã€å¸¦å£°è°ƒè½¬æ¢ã€URL Slugç”Ÿæˆç­‰æ ¸å¿ƒåŠŸèƒ½
- **å­—å…¸åŠ è½½ç³»ç»Ÿ** - æ”¯æŒæ‡’åŠ è½½å’Œå¤šçº§ç¼“å­˜æœºåˆ¶ï¼Œä¼˜åŒ–å†…å­˜ä½¿ç”¨
- **ç‰¹æ®Šå­—ç¬¦å¤„ç†å™¨** - æ”¯æŒkeepã€deleteã€replaceä¸‰ç§å¤„ç†æ¨¡å¼

### 2. å­—å…¸ç³»ç»Ÿ
- **è‡ªå®šä¹‰å­—å…¸** - ç”¨æˆ·è‡ªå®šä¹‰æ‹¼éŸ³æ˜ å°„
- **å¤šéŸ³å­—è§„åˆ™å­—å…¸** - åŸºäºä¸Šä¸‹æ–‡çš„å¤šéŸ³å­—å¤„ç†è§„åˆ™
- **å¸¸ç”¨å­—å…¸** - å¸¸ç”¨æ±‰å­—æ‹¼éŸ³æ˜ å°„
- **ç”Ÿåƒ»å­—å­—å…¸** - ç½•è§æ±‰å­—æ‹¼éŸ³æ˜ å°„
- **Unihanå­—å…¸** - åŸºäºUnicodeæ•°æ®åº“çš„æƒå¨æ‹¼éŸ³æ•°æ®

### 3. åå°ä»»åŠ¡ç®¡ç†
- **ä»»åŠ¡ç®¡ç†å™¨** - ç®¡ç†åå°ä»»åŠ¡é˜Ÿåˆ—
- **ä»»åŠ¡è¿è¡Œå™¨** - æ”¯æŒå®ˆæŠ¤è¿›ç¨‹ã€æ‰¹é‡å¤„ç†å’Œä¸€æ¬¡æ€§æ‰§è¡Œæ¨¡å¼
- **ä»»åŠ¡è°ƒåº¦** - æ”¯æŒå‘¨æœŸæ€§ä»»åŠ¡å’Œä¼˜å…ˆçº§é˜Ÿåˆ—

### 4. Unihanæ•°æ®ç®¡ç†
- **æ•°æ®æ›´æ–°** - è‡ªåŠ¨æ›´æ–°Unihanæ•°æ®åº“
- **æ•°æ®æŠ¥å‘Š** - ç”Ÿæˆå­—å…¸è¦†ç›–èŒƒå›´ç»Ÿè®¡
- **åŒºå—ç®¡ç†** - æ”¯æŒCJKåŸºæœ¬æ±‰å­—åŠæ‰©å±•åŒºA-Gçš„æ‹¼éŸ³æ•°æ®

### 5. æ™ºèƒ½å­¦ä¹ ç³»ç»Ÿ
- **è‡ªå­¦ä¹ å­—å…¸** - è‡ªåŠ¨è¯†åˆ«å¹¶è®°å¿†ç”Ÿåƒ»å­—æ‹¼éŸ³
- **å­—å…¸åˆå¹¶** - æ”¯æŒè‡ªå­¦ä¹ å­—å…¸ä¸è‡ªå®šä¹‰å­—å…¸åˆå¹¶
- **æƒé‡åˆ†æ** - åŸºäºä½¿ç”¨é¢‘ç‡ä¼˜åŒ–å¤šéŸ³å­—é€‰æ‹©

### 6. å·¥å…·é›†
- **æµ‹è¯•å·¥å…·** - æ”¯æŒå¤šç§æµ‹è¯•ç±»å‹å’Œè¦†ç›–ç‡æŠ¥å‘Š
- **æ ¼å¼è½¬æ¢å·¥å…·** - å­—å…¸æ ¼å¼æ ‡å‡†åŒ–å¤„ç†
- **å¤‡ä»½æ¢å¤å·¥å…·** - å­—å…¸æ–‡ä»¶å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- **ğŸ”¤ ç²¾å‡†è½¬æ¢** - æ”¯æŒå¸¸ç”¨å­—å’Œç”Ÿåƒ»å­—çš„å‡†ç¡®æ‹¼éŸ³è½¬æ¢
- **ğŸ§  æ™ºèƒ½å­¦ä¹ ** - è‡ªåŠ¨è¯†åˆ«å¹¶è®°å¿†ç”Ÿåƒ»å­—çš„æ‹¼éŸ³ï¼Œæ”¯æŒè‡ªå­¦ä¹ å­—å…¸åˆå¹¶
- **ğŸ›ï¸ å¤šæ¨¡å¼å¤„ç†** - ä¸‰ç§ç‰¹æ®Šå­—ç¬¦å¤„ç†æ¨¡å¼ï¼š`keep`/`delete`/`replace`
- **ğŸ”€ å¤šéŸ³å­—è¯†åˆ«** - åŸºäºä¸Šä¸‹æ–‡çš„å¤šéŸ³å­—æ™ºèƒ½å¤„ç†
- **ğŸ“š å®Œæ•´å­—å…¸ç³»ç»Ÿ** - å¤šçº§å­—å…¸ä¼˜å…ˆçº§ï¼Œæ”¯æŒæ‡’åŠ è½½å’Œå†…å­˜ä¼˜åŒ–
- **âš¡ é«˜æ€§èƒ½** - å¤šçº§ç¼“å­˜æœºåˆ¶ï¼Œæ”¯æŒé«˜é¢‘å­—ç¬¦å¿«é€Ÿè½¬æ¢
- **ğŸ”§ çµæ´»é…ç½®** - ä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼Œæ»¡è¶³ä¸åŒä½¿ç”¨åœºæ™¯
- **ğŸ”„ åå°ä»»åŠ¡** - å®Œæ•´çš„åå°ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå®ˆæŠ¤è¿›ç¨‹æ¨¡å¼
- **ğŸŒ Unihané›†æˆ** - åŸºäºUnicodeæƒå¨æ•°æ®åº“çš„æ‹¼éŸ³æ•°æ®

## ğŸ’¡ æŠ€æœ¯äº®ç‚¹

### 1. å¤šçº§å­—å…¸ä¼˜å…ˆçº§ç³»ç»Ÿ
åˆ›æ–°çš„äº”çº§å­—å…¸ä¼˜å…ˆçº§è®¾è®¡ï¼ˆè‡ªå®šä¹‰ > å¤šéŸ³å­—è§„åˆ™ > å¸¸ç”¨å­— > ç”Ÿåƒ»å­— > Unihanï¼‰ï¼Œç¡®ä¿æ‹¼éŸ³è½¬æ¢çš„å‡†ç¡®æ€§å’Œçµæ´»æ€§ã€‚

### 2. é«˜æ€§èƒ½å¤„ç†æœºåˆ¶
- å¤šçº§ç¼“å­˜è®¾è®¡ï¼Œæ”¯æŒé«˜é¢‘å­—ç¬¦å¿«é€Ÿè½¬æ¢
- æ‡’åŠ è½½ç­–ç•¥ï¼Œä¼˜åŒ–å†…å­˜ä½¿ç”¨
- æ‰¹é‡å¤„ç†æ¨¡å¼ï¼Œæé«˜å¤§è§„æ¨¡è½¬æ¢æ•ˆç‡

### 3. æ™ºèƒ½å¤šéŸ³å­—è¯†åˆ«
åŸºäºä¸Šä¸‹æ–‡çš„å¤šéŸ³å­—æ™ºèƒ½å¤„ç†ï¼Œé€šè¿‡è§„åˆ™åŒ¹é…å’Œæƒé‡ç®—æ³•ï¼Œåœ¨ä¸åŒè¯­å¢ƒä¸­é€‰æ‹©æ­£ç¡®çš„æ‹¼éŸ³ã€‚

### 4. å®Œæ•´çš„Unihanæ•°æ®è¦†ç›–
è¦†ç›–è¶…è¿‡60,000ä¸ªæ±‰å­—ï¼ŒåŒ…æ‹¬CJKåŸºæœ¬æ±‰å­—åŠæ‰©å±•åŒºA-Gçš„å…¨éƒ¨æ‹¼éŸ³æ•°æ®ï¼Œæä¾›æœ€å…¨é¢çš„æ±‰å­—æ‹¼éŸ³æ”¯æŒã€‚

### 5. çµæ´»çš„é…ç½®ç³»ç»Ÿ
ä¸°å¯Œçš„é…ç½®é€‰é¡¹ï¼Œæ”¯æŒè‡ªå®šä¹‰å­—å…¸åŠ è½½ç­–ç•¥ã€æŒä¹…åŒ–è®¾ç½®å’Œè‡ªåŠ¨ä¿å­˜é—´éš”ç­‰å‚æ•°ï¼Œæ»¡è¶³ä¸åŒä½¿ç”¨åœºæ™¯éœ€æ±‚ã€‚

### 6. å®Œå–„çš„åå°ä»»åŠ¡æ¶æ„
æ”¯æŒå®ˆæŠ¤è¿›ç¨‹æ¨¡å¼çš„ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œå¯å¤„ç†å¼‚æ­¥è½¬æ¢è¯·æ±‚å’Œå¤§æ‰¹é‡æ•°æ®å¤„ç†ä»»åŠ¡ï¼Œé€‚ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚

### 7. æ™ºèƒ½å­¦ä¹ èƒ½åŠ›
è‡ªåŠ¨è¯†åˆ«å¹¶è®°å¿†ç”Ÿåƒ»å­—æ‹¼éŸ³ï¼Œé€šè¿‡è‡ªå­¦ä¹ æœºåˆ¶ä¸æ–­ä¼˜åŒ–è½¬æ¢å‡†ç¡®æ€§ï¼Œå®ç°ç³»ç»Ÿçš„æŒç»­è¿›åŒ–ã€‚

### 8. å…¨é¢çš„æµ‹è¯•è¦†ç›–
åŒ…å«åŸºç¡€è½¬æ¢ã€å¤šéŸ³å­—ã€ç‰¹æ®Šå­—ç¬¦ã€è‡ªå®šä¹‰å­—å…¸å’Œè¾¹ç•Œæ¡ä»¶ç­‰å¤šç§æµ‹è¯•ç±»å‹ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šæ€§å’Œå‡†ç¡®æ€§ã€‚

## ğŸ“‹ å¿«é€Ÿå¼€å§‹

### å®‰è£…

ä½¿ç”¨Composerå®‰è£…ï¼š

```bash
composer require tekintian/pinyin
```

### åŸºæœ¬ä½¿ç”¨

```php
use tekintian\pinyin\PinyinConverter;

// åˆ›å»ºå®ä¾‹
$pinyinConverter = new PinyinConverter();

// åŸºæœ¬è½¬æ¢
$pinyin = $pinyinConverter->convert('ä½ å¥½ï¼Œä¸–ç•Œï¼');
echo $pinyin; // è¾“å‡º: ni hao shi jie

// ä¿ç•™å£°è°ƒ
$pinyinWithTone = $pinyinConverter->convert('ä½ å¥½ï¼Œä¸–ç•Œï¼', ' ', true);
echo $pinyinWithTone; // è¾“å‡º: nÇ hÇo shÃ¬ jiÃ¨

// ç”ŸæˆURL Slug
$slug = $pinyinConverter->getUrlSlug('ä½ å¥½ï¼Œä¸–ç•Œï¼');
echo $slug; // è¾“å‡º: ni-hao-shi-jie
```

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

### å­—å…¸ä¼˜å…ˆçº§ç³»ç»Ÿ

ä»é«˜åˆ°ä½ä¾æ¬¡ä¸ºï¼š
1. **custom_xxx** - è‡ªå®šä¹‰å­—å…¸ï¼ˆç”¨æˆ·è‡ªå®šä¹‰æ˜ å°„ï¼‰
2. **polyphone_xxx** - å¤šéŸ³å­—è§„åˆ™å­—å…¸
3. **common_xxx** - å¸¸ç”¨å­—å…¸
4. **rare_xxx** - ç”Ÿåƒ»å­—å­—å…¸
5. **unihan** - Unihanå­—å…¸ï¼ˆåŸºäºæƒå¨Unicodeæ•°æ®åº“ï¼‰

### æ ¸å¿ƒæ¨¡å—

- **`src/PinyinConverter.php`** - ä¸»è½¬æ¢å™¨ç±»ï¼Œæä¾›æ ¸å¿ƒè½¬æ¢åŠŸèƒ½
- **`src/BackgroundTaskManager.php`** - åå°ä»»åŠ¡ç®¡ç†å™¨
- **`bin/task_runner.php`** - ç»Ÿä¸€ä»»åŠ¡è¿è¡Œå™¨ï¼ˆæ”¯æŒå®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼‰
- **`unicode/`** - Unihanæ•°æ®ç®¡ç†å’Œå¤„ç†å·¥å…·
- **`tools/`** - è¾…åŠ©å·¥å…·é›†ï¼ˆè‡ªåŠ¨è·å–ã€æµ‹è¯•ã€è§£æç­‰ï¼‰

## ğŸš€ é«˜çº§åŠŸèƒ½

### åå°ä»»åŠ¡ç®¡ç†

```bash
# å®ˆæŠ¤è¿›ç¨‹æ¨¡å¼ï¼ˆæ¨èç”Ÿäº§ç¯å¢ƒï¼‰
php bin/task_runner.php -m daemon -i 60

# æ‰¹é‡å¤„ç†æ¨¡å¼
php bin/task_runner.php -m batch -b 100 -l 500

# ä¸€æ¬¡æ€§æ‰§è¡Œæ¨¡å¼
php bin/task_runner.php -m once
```

### Unihanæ•°æ®ç®¡ç†
å‚è§mainåˆ†æ”¯çš„readme.md

### ç‰¹æ®Šå­—ç¬¦å¤„ç†

```php
// keepæ¨¡å¼ï¼šä¿ç•™æ‰€æœ‰ç‰¹æ®Šå­—ç¬¦
$result = $converter->convert('ä½ å¥½$ä¸–ç•Œ', ' ', false, 'keep');

// deleteæ¨¡å¼ï¼šåˆ é™¤éå®‰å…¨å­—ç¬¦
$result = $converter->convert('ä½ å¥½$ä¸–ç•Œ', ' ', false, 'delete');

// replaceæ¨¡å¼ï¼šè‡ªå®šä¹‰æ›¿æ¢
$result = $converter->convert('ä½ å¥½$ä¸–ç•Œ', ' ', false, [
    'mode' => 'replace',
    'map' => ['$' => 'dollar']
]);
```

## ğŸ“Š æ•°æ®ç»Ÿè®¡

### Unihanå­—å…¸è¦†ç›–

| åŒºå— | å­—ç¬¦æ•°é‡ | è¯´æ˜ |
|------|----------|------|
| CJKåŸºæœ¬æ±‰å­— | 20,924 | å¸¸ç”¨æ±‰å­— |
| CJKæ‰©å±•AåŒº | 5,786 | æ‰©å±•AåŒºç”Ÿåƒ»å­— |
| CJKæ‰©å±•BåŒº | 14,614 | æ‰©å±•BåŒºç”Ÿåƒ»å­— |
| CJKæ‰©å±•CåŒº | 506 | æ‰©å±•CåŒºç”Ÿåƒ»å­— |
| CJKæ‰©å±•DåŒº | 222 | æ‰©å±•DåŒºç”Ÿåƒ»å­— |
| CJKæ‰©å±•EåŒº | 5,762 | æ‰©å±•EåŒºç”Ÿåƒ»å­— |
| CJKæ‰©å±•FåŒº | 7,473 | æ‰©å±•FåŒºç”Ÿåƒ»å­— |
| CJKæ‰©å±•GåŒº | 4,939 | æ‰©å±•GåŒºç”Ÿåƒ»å­— |

**æ€»è®¡**: è¶…è¿‡ 60,000 ä¸ªæ±‰å­—çš„å®Œæ•´æ‹¼éŸ³è¦†ç›–

## ğŸ“š è¯¦ç»†æ–‡æ¡£
å‚è§mainåˆ†æ”¯çš„docsç›®å½•

## âš™ï¸ é…ç½®é€‰é¡¹

```php
$config = [
    'dict' => [
        // å­—å…¸æ–‡ä»¶è·¯å¾„é…ç½®
    ],
    'dict_loading' => [
        'strategy' => 'both',        // å­—å…¸åŠ è½½ç­–ç•¥
        'lazy_loading' => true,    // æ‡’åŠ è½½å¼€å…³
        'preload_priority' => ['custom', 'common'], // é¢„åŠ è½½ä¼˜å…ˆçº§
    ],
    'custom_dict_persistence' => [
        'enable' => true,           // è‡ªå®šä¹‰å­—å…¸æŒä¹…åŒ–
        'delay_write' => true,      // å»¶è¿Ÿå†™å…¥
        'auto_save_interval' => 300  // è‡ªåŠ¨ä¿å­˜é—´éš”ï¼ˆç§’ï¼‰
    ]
];

$pinyinConverter = new PinyinConverter($config);
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼è¯·é˜…è¯»ï¼š
- [è´¡çŒ®æŒ‡å—](CONTRIBUTING.md)
- [ç‰ˆæœ¬å†å²](CHANGELOG.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä½¿ç”¨MITè®¸å¯è¯ï¼Œè¯¦æƒ…è¯·æŸ¥çœ‹[LICENSE](LICENSE)æ–‡ä»¶ã€‚

## ğŸ”— ç›¸å…³é“¾æ¥

- [Unicode Unihanæ•°æ®åº“](https://www.unicode.org/charts/unihan.html)
- [ComposeråŒ…é¡µé¢](https://packagist.org/packages/tekintian/pinyin)
- [GitHubä»“åº“](https://github.com/tekintian/pinyin)
- [è½¯ä»¶å®šåˆ¶å¼€å‘](https://dev.tekin.cn)

---

**ç‰ˆæœ¬**: 1.0.0  
**æœ€åæ›´æ–°**: 2025-11-20
**ç»´æŠ¤è€…**: tekintian  https://dev.tekin.cn